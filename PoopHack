-- poop hack
local PoopGui = Instance.new("ScreenGui")
local MainPoop = Instance.new("Frame")
local PoopRatio = Instance.new("UIAspectRatioConstraint")
local PoopButton = Instance.new("TextButton")
local PoopBox = Instance.new("TextBox")
local FartBox = Instance.new("TextBox")
local PoopText = Instance.new("TextLabel")
local FartText = Instance.new("TextLabel")
-- settings
PoopGui.Parent = game.Players.LocalPlayer.PlayerGui
PoopGui.Name = "PoopGui"
PoopGui.Enabled = true
PoopGui.ResetOnSpawn = false

MainPoop.Parent = PoopGui
MainPoop.Name = "MainPoop"
MainPoop.Size = UDim2.new(0.234, 0, 0.219, 0)
MainPoop.Position = UDim2.new(0.71, 0, 0.212, 0)
MainPoop.BackgroundColor3 = Color3.fromRGB(88, 40, 21)

PoopRatio.Parent = MainPoop
PoopRatio.Name = "PoopRatio"
PoopRatio.AspectRatio = 1.44

PoopButton.Parent = MainPoop
PoopButton.Name = "PoopButton"
PoopButton.Size = UDim2.new(0.905, 0, 0.347, 0)
PoopButton.Position = UDim2.new(0.05, 0, 0.576, 0)
PoopButton.BackgroundColor3 = Color3.fromRGB(48, 21, 11)
PoopButton.Text = "Shoot"
PoopButton.TextScaled = true
PoopButton.TextColor3 = Color3.fromRGB(217, 98, 52)
PoopButton.Font = Enum.Font.Kalam

PoopBox.Parent = MainPoop
PoopBox.Name = "PoopBox"
PoopBox.Size = UDim2.new(0.425, 0, 0.212, 0)
PoopBox.Position = UDim2.new(0.05, 0, 0.283, 0)
PoopBox.BackgroundColor3 = Color3.fromRGB(48, 21, 11)
PoopBox.Text = ""
PoopBox.TextScaled = true
PoopBox.TextColor3 = Color3.fromRGB(217, 98, 52)
PoopBox.Font = Enum.Font.Kalam

FartBox.Parent = MainPoop
FartBox.Name = "FartBox"
FartBox.Size = UDim2.new(0.425, 0, 0.212, 0)
FartBox.Position = UDim2.new(0.53, 0, 0.283, 0)
FartBox.BackgroundColor3 = Color3.fromRGB(48, 21, 11)
FartBox.Text = ""
FartBox.TextScaled = true
FartBox.TextColor3 = Color3.fromRGB(217, 98, 52)
FartBox.Font = Enum.Font.Kalam

PoopText.Parent = MainPoop
PoopText.Name = "PoopText"
PoopText.Size = UDim2.new(0.98, 0, 0.339, 0)
PoopText.Position = UDim2.new(-0.23, 0, 0, 0)
PoopText.BackgroundTransparency = 1
PoopText.Text = "Poop"
PoopText.TextScaled = true
PoopText.TextColor3 = Color3.fromRGB(217, 98, 52)
PoopText.Font = Enum.Font.Kalam

FartText.Parent = MainPoop
FartText.Name = "FartText"
FartText.Size = UDim2.new(0.98, 0, 0.339, 0)
FartText.Position = UDim2.new(0.25, 0, 0, 0)
FartText.BackgroundTransparency = 1
FartText.Text = "Fart"
FartText.TextScaled = true
FartText.TextColor3 = Color3.fromRGB(217, 98, 52)
FartText.Font = Enum.Font.Kalam

local IsShooting = 1
local PoopTimes 
local FartTimes 

local function UpdatePFT()
	PoopTimes = tonumber(PoopBox.Text)
	FartTimes = tonumber(FartBox.Text)
end

local function Poop()
   workspace:WaitForChild("RemoteEvent"):FireServer("poop")
end

local function Fart()
	workspace:WaitForChild("RemoteEvent"):FireServer("fart")
end

local function Shoot(pt, ft)
	if IsShooting == 1  then
		PoopButton.Text = "Shooting.."
	else
		PoopButton.Text = "Shoot"
	end
	local Success, ErrorMessage = pcall(function()
		if IsShooting == 1  then
			print("Shottinh")
		end
		while IsShooting == 1 do
			task.wait()
			for i = 1, pt do
				Poop()
			end
			for i = 1, ft do
				Fart()
			end
		end
	end)
	
	if ErrorMessage then
		warn("Error: ".. ErrorMessage)
		IsShooting = -1
		PoopButton.Text = "Error"
	end
end
PoopButton.MouseButton1Click:Connect(function()
	UpdatePFT()
	IsShooting *= -1
	Shoot(PoopTimes, FartTimes)
end)

--draging function
local UserInputService = game:GetService("UserInputService")

local gui = MainPoop

local dragging
local dragInput
local dragStart
local startPos

local function update(input)
	local delta = input.Position - dragStart
	gui.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

gui.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = gui.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

gui.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		dragInput = input
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		update(input)
	end
end)
